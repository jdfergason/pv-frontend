(self["webpackChunkpenny_vault"]=self["webpackChunkpenny_vault"]||[]).push([[897],{58174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var l=a(75305);const r={class:"q-pa-xs q-px-md"},i={class:"row q-gutter-md"},o={class:"col"},s={class:"q-mt-sm q-mb-sm"},d=(0,l.Uk)("Strategies"),n={class:"row q-col-gutter-lg"},u={class:"col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12"},c={class:"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-xs-12"};function m(e,t,a,m,v,h){const p=(0,l.up)("q-icon"),g=(0,l.up)("q-breadcrumbs-el"),N=(0,l.up)("q-breadcrumbs"),f=(0,l.up)("ag-grid-vue"),b=(0,l.up)("am-scatter-plot"),y=(0,l.up)("px-card");return(0,l.wg)(),(0,l.j4)("div",r,[(0,l.Wm)("div",i,[(0,l.Wm)("div",o,[(0,l.Wm)("h4",s,[(0,l.Wm)(p,{name:"app:portfolio",color:"grey-9",size:"sm",class:"q-mr-md q-mb-sm"}),d]),(0,l.Wm)(N,{class:"q-mb-lg"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{icon:"home",to:"/app"}),(0,l.Wm)(g,{label:"Strategies"})])),_:1})])]),(0,l.Wm)("div",n,[(0,l.Wm)("div",u,[(0,l.Wm)(f,{style:{width:"100%",height:"500px"},class:"ag-theme-alpine",columnDefs:e.columnDefs,rowData:e.rowData,gridOptions:e.gridOptions,onGridReady:e.onGridReady,sideBar:e.sideBar,rowSelection:"multiple"},null,8,["columnDefs","rowData","gridOptions","onGridReady","sideBar"])]),(0,l.Wm)("div",c,[(0,l.Wm)(y,{title:"Risk vs Return"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{style:{height:"435px"},labels:"{shortcode}","x-title":"Risk: Ulcer Index (%)","y-title":"Return: CAGR (%)","series-config":e.series,data:e.data},null,8,["series-config","data"])])),_:1})])])])}a(90246);var v=a(87874),h=a(79582),p=a(87448),g=a(88808),N=a(84208);const f={id:"vue-amscatter",class:"vue-amscatter"};function b(e,t,a,r,i,o){return(0,l.wg)(),(0,l.j4)("div",f)}var y=a(85129),F=a(33247),w=a(69586);const x=(0,l.aZ)({name:"AmScatterPlot",props:{data:{type:Array,required:!0},seriesConfig:{type:Array,default(){return[{title:"Series 1",valueX:"x",valueY:"y",strokeOpacity:0,symbol:"circle"}]}},labels:{type:String,default:""},xTitle:{type:String,default:"X"},yTitle:{type:String,default:"Y"}},setup(e){const{data:t,labels:a,seriesConfig:r,xTitle:i,yTitle:o}=(0,l.BK)(e);var s=void 0;async function d(){let e=new Array;r.value.forEach(((t,l)=>{let r=s.series.push(new F.eh);if(r.dataFields.valueX=t.valueX||"x",r.dataFields.valueY=t.valueY||"y",r.strokeOpacity=t.strokeOpacity||0,""!==a.value){let e=r.bullets.push(new F.KC);e.label.text=a.value,e.label.dy=20}let i=r.bullets.push(new F.gT);var o;let d=t.symbol||"circle";switch(d){case"circle":o=i.createChild(y.Cdc);break;case"triangle":o=i.createChild(y.CJI);break;default:console.error(`Unknown symbol in scatter plot series: ${d}`),o=i.createChild(y.Cdc)}o.horizontalCenter=t.horizontalCenter||"middle",o.verticalCenter=t.verticalCenter||"middle",o.strokeWidth=t.strokeWidth||0,t.color?(console,"number"===typeof t.color?o.fill=s.colors.getIndex(t.color):o.fill=y.$_Y(t.color)):o.fill=s.colors.getIndex(l),o.direction=t.direction||"top",o.width=t.width||12,o.height=t.height||12;let n=o.states.create("hover");n.properties.scale=1.7,o.tooltipText=t.tooltipText||"X: {valueX} / Y: {valueY}",o.tooltipX=-10,r.tooltip.background.cornerRadius=5,r.tooltip.background.strokeOpacity=0,r.tooltip.pointerOrientation="right",r.tooltip.label.minWidth=40,r.tooltip.label.minHeight=40,r.tooltip.label.textAlign="left",r.tooltip.label.textValign="middle",r.tooltip.getFillFromObject=!1,r.tooltip.label.fill=y.$_Y("black"),r.tooltip.background.fill=y.$_Y("#FFFFFF"),e.push(r)}))}async function n(){s&&s.dispose(),s=y.Ue8("vue-amscatter",F.zO),s.data=t.value;var e=s.xAxes.push(new F.mn);e.title.text=i.value,e.renderer.minGridDistance=40;var a=s.yAxes.push(new F.mn);a.title.text=o.value;d()}return y.FgM(w.Z),(0,l.YP)(t,(async e=>{s.data=e})),(0,l.bv)((async()=>{n()})),(0,l.Ah)((async()=>{s&&s.dispose()})),{}}});x.render=b;const C=x;var W=a(19402);const D=(0,l.aZ)({name:"PortfolioList",components:{AgGridVue:g.AgGridVue,AmScatterPlot:C,btnCellRenderer:N.Z,PxCard:W.Z},setup(){const e=(0,v.oR)(),t=(0,h.tv)(),a=(0,l.iH)([{valueX:"x",valueY:"y",tooltipText:"[bold]{strategy}[/]\n\n{description}\n\n[bold]Return:[/] {valueY}%   [bold]Risk:[/] {valueX}"}]),r=(0,l.iH)({defaultColDef:{flex:1,minWidth:200,sortable:!0,resizable:!0,floatingFilter:!0}}),i=(0,l.iH)({}),o=(0,l.iH)({}),s=(0,l.iH)([{field:"shortcode",headerName:"",cellRendererFramework:"btnCellRenderer",cellRendererParams:{clicked:function(e){t.push({path:`/app/strategy/${e}`})}.bind(this)},minWidth:115,maxWidth:115,resizable:!0,sortable:!1,editable:!1,floatingFilter:!1,suppressMenu:!0,filter:!1},{field:"name",minWidth:250,filter:"agTextColumnFilter",filterParams:{buttons:["reset","apply"]}},{headerName:"% YTD",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.ytdReturn.Valid?e.data.metrics.ytdReturn.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR Since Inception",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.cagrSinceInception.Valid?e.data.metrics.cagrSinceInception.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 3-yr",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.cagr3yr.Valid?e.data.metrics.cagr3yr.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 5-yr",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.cagr5yr.Valid?e.data.metrics.cagr5yr.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"CAGR 10-yr",minWidth:80,width:110,hide:!1,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.cagr10yr.Valid?e.data.metrics.cagr10yr.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Std. Dev.",minWidth:80,width:110,hide:!0,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.std_dev.Valid?e.data.metrics.stdDev.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Downside Deviation",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.downside_deviation.Valid?e.data.metrics.downsideDeviation.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Max DD",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.maxDrawDown.Valid?e.data.metrics.maxDrawDown.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Avg DD",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.avgDrawDown.Valid?e.data.metrics.avgDrawDown.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.T3)(e.value)},{headerName:"Sharpe",hide:!0,minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.sharpeRatio.Valid?e.data.metrics.sharpeRatio.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)},{headerName:"Sortino",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.sortinoRatio.Valid?e.data.metrics.sortinoRatio.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)},{headerName:"Ulcer Idx",minWidth:80,width:110,filter:"agNumberColumnFilter",valueGetter:e=>e.data.metrics.ulcerIndex.Valid?e.data.metrics.ulcerIndex.Float64:NaN,valueFormatter:e=>isNaN(e.value)?"-":(0,p.uf)(e.value)}]),d=(0,l.iH)(!0),n=(0,l.Fl)((()=>e.state.strategy.list)),u=(0,l.iH)([]);async function c(){u.value=new Array,n.value.forEach((e=>{u.value.push({x:e.metrics.ulcerIndex.Float64.toFixed(2),y:(100*e.metrics.cagr10yr.Float64).toFixed(2),strategy:e.name,shortcode:e.shortcode,description:(0,p.BW)(e.description,30)})}))}return c(),e.dispatch("strategy/fetchStrategies"),(0,l.YP)(n,(async e=>{c()})),(0,l.bv)((()=>{i.value=r.value.api,o.value=r.value.columnApi})),{columnApi:o,columnDefs:s,data:u,gridApi:i,gridOptions:r,rowData:n,series:a,sideBar:d,onGridReady(e){i.value.closeToolPanel()}}}});var R=a(24379),G=a(24554),k=a(31481),A=a(85926),T=a(7518),S=a.n(T);D.render=m;const V=D;S()(D,"components",{QPage:R.Z,QIcon:G.Z,QBreadcrumbs:k.Z,QBreadcrumbsEl:A.Z})}}]);